/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/black.png":
/*!**************************!*\
  !*** ./assets/black.png ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"black.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/black.png?");

/***/ }),

/***/ "./assets/buttonRed.png":
/*!******************************!*\
  !*** ./assets/buttonRed.png ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"buttonRed.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/buttonRed.png?");

/***/ }),

/***/ "./assets/laserRed08.png":
/*!*******************************!*\
  !*** ./assets/laserRed08.png ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"laserRed08.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/laserRed08.png?");

/***/ }),

/***/ "./assets/laserRed16.png":
/*!*******************************!*\
  !*** ./assets/laserRed16.png ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"laserRed16.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/laserRed16.png?");

/***/ }),

/***/ "./assets/playerLife2_red.png":
/*!************************************!*\
  !*** ./assets/playerLife2_red.png ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"playerLife2_red.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/playerLife2_red.png?");

/***/ }),

/***/ "./assets/playerShip2_red.png":
/*!************************************!*\
  !*** ./assets/playerShip2_red.png ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"playerShip2_red.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/playerShip2_red.png?");

/***/ }),

/***/ "./assets/powerupBlue_star.png":
/*!*************************************!*\
  !*** ./assets/powerupBlue_star.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"powerupBlue_star.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/powerupBlue_star.png?");

/***/ }),

/***/ "./assets/powerupRed_star.png":
/*!************************************!*\
  !*** ./assets/powerupRed_star.png ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"powerupRed_star.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/powerupRed_star.png?");

/***/ }),

/***/ "./assets/powerupYellow_bolt.png":
/*!***************************************!*\
  !*** ./assets/powerupYellow_bolt.png ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"powerupYellow_bolt.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/powerupYellow_bolt.png?");

/***/ }),

/***/ "./assets/spaceEffects_002.png":
/*!*************************************!*\
  !*** ./assets/spaceEffects_002.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceEffects_002.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceEffects_002.png?");

/***/ }),

/***/ "./assets/spaceEffects_013.png":
/*!*************************************!*\
  !*** ./assets/spaceEffects_013.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceEffects_013.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceEffects_013.png?");

/***/ }),

/***/ "./assets/spaceEffects_014.png":
/*!*************************************!*\
  !*** ./assets/spaceEffects_014.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceEffects_014.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceEffects_014.png?");

/***/ }),

/***/ "./assets/spaceEffects_015.png":
/*!*************************************!*\
  !*** ./assets/spaceEffects_015.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceEffects_015.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceEffects_015.png?");

/***/ }),

/***/ "./assets/spaceEffects_016.png":
/*!*************************************!*\
  !*** ./assets/spaceEffects_016.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceEffects_016.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceEffects_016.png?");

/***/ }),

/***/ "./assets/spaceMeteors_001.png":
/*!*************************************!*\
  !*** ./assets/spaceMeteors_001.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceMeteors_001.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceMeteors_001.png?");

/***/ }),

/***/ "./assets/spaceMeteors_002.png":
/*!*************************************!*\
  !*** ./assets/spaceMeteors_002.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceMeteors_002.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceMeteors_002.png?");

/***/ }),

/***/ "./assets/spaceMeteors_003.png":
/*!*************************************!*\
  !*** ./assets/spaceMeteors_003.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceMeteors_003.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceMeteors_003.png?");

/***/ }),

/***/ "./assets/spaceMeteors_004.png":
/*!*************************************!*\
  !*** ./assets/spaceMeteors_004.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceMeteors_004.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceMeteors_004.png?");

/***/ }),

/***/ "./assets/spaceMissiles_012.png":
/*!**************************************!*\
  !*** ./assets/spaceMissiles_012.png ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceMissiles_012.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceMissiles_012.png?");

/***/ }),

/***/ "./assets/spaceRockets_001.png":
/*!*************************************!*\
  !*** ./assets/spaceRockets_001.png ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"spaceRockets_001.png\");\n\n//# sourceURL=webpack://center-shooter/./assets/spaceRockets_001.png?");

/***/ }),

/***/ "./src/collisions.ts":
/*!***************************!*\
  !*** ./src/collisions.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.collideLaserWithMeteors = exports.collideProjectilesAndMeteors = exports.collidePlayerWithMeteors = void 0;\r\nconst gameState_1 = __webpack_require__(/*! ./gameState */ \"./src/gameState.ts\");\r\nconst meteor_1 = __webpack_require__(/*! ./game_objects/meteor */ \"./src/game_objects/meteor.ts\");\r\nconst laser_1 = __webpack_require__(/*! ./game_objects/laser */ \"./src/game_objects/laser.ts\");\r\nconst projectile_1 = __webpack_require__(/*! ./game_objects/projectile */ \"./src/game_objects/projectile.ts\");\r\nconst util_1 = __webpack_require__(/*! ./util */ \"./src/util.ts\");\r\nfunction collidePlayerWithMeteors() {\r\n    const meteorPlayerHits = gameState_1.Game.meteors.filter(meteor => {\r\n        const distance = (0, util_1.euclDistance)(gameState_1.Game.player.x, gameState_1.Game.player.y, meteor.x, meteor.y);\r\n        return distance < gameState_1.Game.player.size + meteor.size();\r\n    });\r\n    const score = 10;\r\n    if (meteorPlayerHits.length > 0) {\r\n        // Remove meteors that hit the player\r\n        gameState_1.Game.meteors = gameState_1.Game.meteors.filter(meteor => !meteorPlayerHits.includes(meteor));\r\n        meteorPlayerHits.forEach(meteor => {\r\n            gameState_1.Game.smokes.push(new meteor_1.Smoke(meteor.x, meteor.y));\r\n        });\r\n        gameState_1.Game.score += meteorPlayerHits.length * score;\r\n        gameState_1.Game.player.hit();\r\n    }\r\n    gameState_1.Game.gameOver = gameState_1.Game.player.isDead();\r\n}\r\nexports.collidePlayerWithMeteors = collidePlayerWithMeteors;\r\nfunction collideProjectilesAndMeteors() {\r\n    const meteorsAndProjectiles = (0, util_1.arrayCrossProduct)(gameState_1.Game.meteors, gameState_1.Game.projectiles);\r\n    meteorsAndProjectiles.forEach(([meteor, projectile]) => {\r\n        const dx = meteor.x - projectile.x;\r\n        const dy = meteor.y - projectile.y;\r\n        const distance = Math.sqrt(dx * dx + dy * dy);\r\n        if (distance < meteor.size() + projectile.size) {\r\n            const damageTaken = meteor.takeDamage(projectile_1.Projectile.DAMAGE);\r\n            // If the projectile hits the meteor increase the score\r\n            gameState_1.Game.score += damageTaken;\r\n            // Remove the meteor\r\n            if (meteor.isDead()) {\r\n                // Add smoke where the meteor was\r\n                gameState_1.Game.smokes.push(new meteor_1.Smoke(meteor.x, meteor.y));\r\n                gameState_1.Game.meteors = gameState_1.Game.meteors.filter(m => m !== meteor);\r\n            }\r\n            // Remove the projectile\r\n            gameState_1.Game.projectiles = gameState_1.Game.projectiles.filter(p => p !== projectile);\r\n        }\r\n    });\r\n}\r\nexports.collideProjectilesAndMeteors = collideProjectilesAndMeteors;\r\nfunction collideLaserWithMeteors(laser, dt) {\r\n    // Collision between laser and meteors\r\n    laser.hit = null;\r\n    let distanceToMeteor = Infinity;\r\n    let meteorToHit = null;\r\n    if (laser.isFiring()) {\r\n        gameState_1.Game.meteors.forEach(meteor => {\r\n            const position = laser.getPosition();\r\n            // Circle and line intersection\r\n            const intersection = (0, util_1.intersectRayAndCircle)(position.x, position.y, laser.getAngle(), meteor.x, meteor.y, meteor.size());\r\n            if (intersection !== null) {\r\n                const distance = (0, util_1.euclDistance)(position.x, position.y, intersection.x, intersection.y);\r\n                if (distance < distanceToMeteor) {\r\n                    laser.hit = new laser_1.LaserHit(intersection.x, intersection.y, laser);\r\n                    distanceToMeteor = distance;\r\n                    meteorToHit = meteor;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    const damageTaken = meteorToHit === null || meteorToHit === void 0 ? void 0 : meteorToHit.takeDamage(gameState_1.Game.player.laser.getDps() * dt);\r\n    gameState_1.Game.score += damageTaken !== null && damageTaken !== void 0 ? damageTaken : 0;\r\n    if (meteorToHit === null || meteorToHit === void 0 ? void 0 : meteorToHit.isDead()) {\r\n        gameState_1.Game.meteors = gameState_1.Game.meteors.filter(m => m !== meteorToHit);\r\n        gameState_1.Game.smokes.push(new meteor_1.Smoke(meteorToHit.x, meteorToHit.y));\r\n    }\r\n}\r\nexports.collideLaserWithMeteors = collideLaserWithMeteors;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/collisions.ts?");

/***/ }),

/***/ "./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.FORCE_GAME_OVER = exports.DEBUG_DIFFICULTY = exports.FORCE_POWERUP = exports.INVINCIBILITY = exports.DEBUG_HP = exports.DEBUG_COLLISIONS = void 0;\r\nexports.DEBUG_COLLISIONS = false;\r\nexports.DEBUG_HP = false;\r\nexports.INVINCIBILITY = false;\r\nexports.FORCE_POWERUP = false;\r\nexports.DEBUG_DIFFICULTY = false;\r\nexports.FORCE_GAME_OVER = false;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/config.ts?");

/***/ }),

/***/ "./src/drawHud.ts":
/*!************************!*\
  !*** ./src/drawHud.ts ***!
  \************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.drawGameOver = exports.drawHud = void 0;\r\nconst config_1 = __webpack_require__(/*! ./config */ \"./src/config.ts\");\r\nconst gameState_1 = __webpack_require__(/*! ./gameState */ \"./src/gameState.ts\");\r\nconst images_1 = __webpack_require__(/*! ./images */ \"./src/images.ts\");\r\nfunction drawScore(ctx, x, y, score) {\r\n    ctx.font = '24px Arial';\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillText(`Score: ${score.toFixed(0)}`, x, y);\r\n}\r\nfunction drawLives(ctx, x, y, lives) {\r\n    const lifeSize = 24;\r\n    const lifePadding = 10;\r\n    for (let i = 0; i < lives; i++) {\r\n        ctx.drawImage(images_1.default.SHIP, x + i * (lifeSize + lifePadding), y, lifeSize, lifeSize);\r\n    }\r\n}\r\nfunction drawPowerup(ctx, x, y, image) {\r\n    const powerSize = 24;\r\n    ctx.drawImage(image, x, y, powerSize, powerSize);\r\n}\r\nfunction drawWeaponUpgradeRemainingTime(ctx, x, y, remainingTime) {\r\n    const powerSize = 24;\r\n    const correctionY = 4;\r\n    ctx.drawImage(images_1.default.POWERUP_YELLOW_BOLT, x, y - powerSize + correctionY, powerSize, powerSize);\r\n    const timeLeftX = 35;\r\n    ctx.font = '24px Arial';\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillText((remainingTime / 1000).toFixed(1), x + timeLeftX, y);\r\n}\r\nfunction drawEquippedWeapon(ctx, x, y, player) {\r\n    const size = 24;\r\n    if (player.isLaserEquipped()) {\r\n        ctx.drawImage(images_1.default.LASER_HIT, x, y, size, size);\r\n    }\r\n    else {\r\n        ctx.drawImage(images_1.default.PROJECTILE, x, y, size, size);\r\n    }\r\n}\r\nfunction drawDifficultyMultiplier(ctx, x, y, difficulty) {\r\n    ctx.font = '24px Arial';\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillText(`Difficulty: ${difficulty}`, x, y);\r\n}\r\nfunction drawHud() {\r\n    const uiXOffset = 20;\r\n    const uiYOffset = 40;\r\n    drawScore(gameState_1.Game.ctx, uiXOffset, uiYOffset, gameState_1.Game.score);\r\n    const lifeY = 20;\r\n    drawLives(gameState_1.Game.ctx, uiXOffset, uiYOffset + lifeY, gameState_1.Game.player.lives);\r\n    const equippedWeaponY = 65;\r\n    drawEquippedWeapon(gameState_1.Game.ctx, uiXOffset, uiYOffset + equippedWeaponY, gameState_1.Game.player);\r\n    // Draw projectile burst power\r\n    if (gameState_1.Game.projectileBurstAttack !== null\r\n        && !gameState_1.Game.projectileBurstAttack.isActive) {\r\n        const powerY = 110;\r\n        drawPowerup(gameState_1.Game.ctx, uiXOffset, uiYOffset + powerY, images_1.default.POWERUP_RED_STAR);\r\n    }\r\n    if (gameState_1.Game.rocketLaser !== null\r\n        && !gameState_1.Game.rocketLaser.isActive) {\r\n        const powerY = 110;\r\n        const powerX = 40;\r\n        drawPowerup(gameState_1.Game.ctx, uiXOffset + powerX, uiYOffset + powerY, images_1.default.POWERUP_BLUE_STAR);\r\n    }\r\n    // Draw weapon upgrade remaining time\r\n    if (gameState_1.Game.player.isWeaponUpgraded()) {\r\n        const weaponUpgradeX = 180;\r\n        drawWeaponUpgradeRemainingTime(gameState_1.Game.ctx, uiXOffset + weaponUpgradeX, uiYOffset, gameState_1.Game.player.getWeaponUpgradeTimeLeft());\r\n    }\r\n    if (config_1.DEBUG_DIFFICULTY) {\r\n        const difficultyMultiplierXOffset = 300;\r\n        drawDifficultyMultiplier(gameState_1.Game.ctx, gameState_1.Game.canvas.width - difficultyMultiplierXOffset, uiYOffset, gameState_1.Game.meteorSpawner.getDifficultyMultiplier());\r\n    }\r\n}\r\nexports.drawHud = drawHud;\r\nfunction drawGameOver() {\r\n    const centerX = gameState_1.Game.canvas.width / 2;\r\n    const centerY = gameState_1.Game.canvas.height / 2;\r\n    const offY = 150;\r\n    const width = 350;\r\n    const height = 150;\r\n    gameState_1.Game.ctx.drawImage(images_1.default.BUTTON_RED, centerX - width / 2, centerY - height / 2 - offY, width, height);\r\n    gameState_1.Game.ctx.fillStyle = 'black';\r\n    gameState_1.Game.ctx.font = '48px Arial';\r\n    const gameOverTextX = 45;\r\n    const gameOverTextY = 70;\r\n    gameState_1.Game.ctx.fillText('Game Over', centerX - width / 2 + gameOverTextX, centerY - height / 2 - offY + gameOverTextY);\r\n    gameState_1.Game.ctx.font = '24px Arial';\r\n    const restartTextX = 90;\r\n    const restartTextY = 110;\r\n    gameState_1.Game.ctx.fillText('Click to restart', centerX - width / 2 + restartTextX, centerY - height / 2 - offY + restartTextY);\r\n}\r\nexports.drawGameOver = drawGameOver;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/drawHud.ts?");

/***/ }),

/***/ "./src/gameState.ts":
/*!**************************!*\
  !*** ./src/gameState.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.runGameLoop = exports.initGame = exports.shakeScreen = exports.initCanvas = exports.Game = void 0;\r\nconst player_1 = __webpack_require__(/*! ./game_objects/player */ \"./src/game_objects/player.ts\");\r\nconst meteorSpawner_1 = __webpack_require__(/*! ./spawners/meteorSpawner */ \"./src/spawners/meteorSpawner.ts\");\r\nconst images_1 = __webpack_require__(/*! ./images */ \"./src/images.ts\");\r\nconst specialAttacks_1 = __webpack_require__(/*! ./specialAttacks */ \"./src/specialAttacks.ts\");\r\nconst powerupSpawner_1 = __webpack_require__(/*! ./spawners/powerupSpawner */ \"./src/spawners/powerupSpawner.ts\");\r\nconst drawHud_1 = __webpack_require__(/*! ./drawHud */ \"./src/drawHud.ts\");\r\nconst collisions_1 = __webpack_require__(/*! ./collisions */ \"./src/collisions.ts\");\r\nconst config_1 = __webpack_require__(/*! ./config */ \"./src/config.ts\");\r\nclass Game {\r\n}\r\nexports.Game = Game;\r\nGame.lastTimestamp = 0;\r\nGame.gameOver = false;\r\nGame.score = 0;\r\n// Special attacks\r\nGame.projectileBurstAttack = null;\r\nGame.projectiles = [];\r\nGame.meteors = [];\r\nGame.smokes = [];\r\nGame.projectileBurstPowerup = null;\r\nGame.rocketLaserPowerup = null;\r\nGame.weaponUpgradePowerup = null;\r\nGame.rocketLaser = null;\r\nfunction initCanvas() {\r\n    // Create canvas\r\n    Game.canvas = document.getElementById('canvas');\r\n    Game.canvas.width = window.innerWidth;\r\n    Game.canvas.height = window.innerHeight;\r\n    Game.ctx = Game.canvas.getContext('2d');\r\n}\r\nexports.initCanvas = initCanvas;\r\nfunction shakeScreen() {\r\n    const shakeMagnitude = 10;\r\n    const shakeDuration = 200;\r\n    const startTime = Date.now();\r\n    const endTime = startTime + shakeDuration;\r\n    let x = 0;\r\n    let y = 0;\r\n    const shakeInterval = setInterval(() => {\r\n        Game.ctx.translate(-x, -y);\r\n        const currentTime = Date.now();\r\n        if (currentTime >= endTime) {\r\n            clearInterval(shakeInterval);\r\n            return;\r\n        }\r\n        x = Math.random() * shakeMagnitude * 2 - shakeMagnitude;\r\n        y = Math.random() * shakeMagnitude * 2 - shakeMagnitude;\r\n        Game.ctx.translate(x, y);\r\n    }, 10);\r\n}\r\nexports.shakeScreen = shakeScreen;\r\nfunction initGame() {\r\n    // I kinda regret making this static now, should've stayed with the singleton pattern\r\n    Game.player = new player_1.Player(Game.canvas.width / 2, Game.canvas.height / 2);\r\n    Game.meteorSpawner = new meteorSpawner_1.MeteorSpawner(Game.canvas.width, Game.canvas.height, Game.player);\r\n    Game.powerupSpawner = new powerupSpawner_1.PowerupSpawner(Game.canvas.width, Game.canvas.height, Game.player);\r\n    Game.lastTimestamp = 0;\r\n    Game.gameOver = false;\r\n    Game.score = 0;\r\n    Game.projectileBurstAttack = null;\r\n    Game.projectiles = [];\r\n    Game.meteors = [];\r\n    Game.smokes = [];\r\n    Game.projectileBurstPowerup = null;\r\n    Game.rocketLaserPowerup = null;\r\n    Game.weaponUpgradePowerup = null;\r\n    Game.rocketLaser = null;\r\n}\r\nexports.initGame = initGame;\r\nfunction draw() {\r\n    var _a, _b, _c, _d;\r\n    Game.ctx.clearRect(0, 0, Game.canvas.width, Game.canvas.height);\r\n    // Tile background\r\n    const pattern = Game.ctx.createPattern(images_1.default.BLACK_BACKGROUND, 'repeat');\r\n    Game.ctx.fillStyle = pattern;\r\n    Game.ctx.fillRect(0, 0, Game.canvas.width, Game.canvas.height);\r\n    Game.projectiles.forEach(projectile => projectile.draw(Game.ctx));\r\n    Game.meteors.forEach(meteor => meteor.draw(Game.ctx));\r\n    Game.smokes.forEach(smoke => smoke.draw(Game.ctx));\r\n    Game.player.draw(Game.ctx);\r\n    (_a = Game.projectileBurstPowerup) === null || _a === void 0 ? void 0 : _a.draw(Game.ctx);\r\n    (_b = Game.rocketLaserPowerup) === null || _b === void 0 ? void 0 : _b.draw(Game.ctx);\r\n    (_c = Game.weaponUpgradePowerup) === null || _c === void 0 ? void 0 : _c.draw(Game.ctx);\r\n    (_d = Game.rocketLaser) === null || _d === void 0 ? void 0 : _d.draw(Game.ctx);\r\n    (0, drawHud_1.drawHud)();\r\n}\r\nfunction update(dt) {\r\n    var _a, _b, _c, _d;\r\n    Game.player.update(dt);\r\n    Game.projectiles.forEach(projectile => projectile.update(dt));\r\n    Game.meteors.forEach(meteor => meteor.update(dt));\r\n    Game.smokes.forEach(smoke => smoke.update(dt));\r\n    (_a = Game.projectileBurstPowerup) === null || _a === void 0 ? void 0 : _a.update(dt);\r\n    (_b = Game.rocketLaserPowerup) === null || _b === void 0 ? void 0 : _b.update(dt);\r\n    (_c = Game.weaponUpgradePowerup) === null || _c === void 0 ? void 0 : _c.update(dt);\r\n    (_d = Game.rocketLaser) === null || _d === void 0 ? void 0 : _d.update(dt);\r\n}\r\nfunction isOffScreen(x, y, size) {\r\n    const offScreenMargin = 100;\r\n    return x + size < -offScreenMargin\r\n        || x - size > Game.canvas.width + offScreenMargin\r\n        || y + size < -offScreenMargin\r\n        || y - size > Game.canvas.height + offScreenMargin;\r\n}\r\nfunction cleanup() {\r\n    var _a;\r\n    // Cleanup meteors that are off screen\r\n    Game.meteors = Game.meteors.filter(meteor => !isOffScreen(meteor.x, meteor.y, meteor.size()));\r\n    // Clenaup projectiles that are off screen\r\n    Game.projectiles = Game.projectiles.filter(projectile => !isOffScreen(projectile.x, projectile.y, projectile.size));\r\n    // Cleanup dead smokes\r\n    Game.smokes = Game.smokes.filter(smoke => !smoke.isDead());\r\n    // Cleanup projectile burst\r\n    if ((_a = Game.projectileBurstAttack) === null || _a === void 0 ? void 0 : _a.isDone()) {\r\n        Game.projectileBurstAttack = null;\r\n    }\r\n    if (Game.rocketLaser !== null\r\n        && isOffScreen(Game.rocketLaser.x, Game.rocketLaser.y, specialAttacks_1.RocketLaser.LENGTH)) {\r\n        Game.rocketLaser = null;\r\n    }\r\n}\r\nfunction spawn() {\r\n    var _a;\r\n    // Run all spawners\r\n    if (Game.meteorSpawner.shouldSpawn()) {\r\n        Game.meteorSpawner.spawn();\r\n    }\r\n    // Spawn a powerup\r\n    if (Game.powerupSpawner.shouldSpawn()) {\r\n        Game.powerupSpawner.spawn();\r\n    }\r\n    (_a = Game.projectileBurstAttack) === null || _a === void 0 ? void 0 : _a.use();\r\n}\r\nfunction collision(dt) {\r\n    (0, collisions_1.collidePlayerWithMeteors)();\r\n    (0, collisions_1.collideProjectilesAndMeteors)();\r\n    (0, collisions_1.collideLaserWithMeteors)(Game.player.laser, dt);\r\n    if (Game.rocketLaser !== null) {\r\n        (0, collisions_1.collideLaserWithMeteors)(Game.rocketLaser.laser, dt);\r\n    }\r\n}\r\nfunction runGameLoop() {\r\n    if (config_1.FORCE_GAME_OVER || Game.gameOver) {\r\n        draw(); // Draw one last time\r\n        (0, drawHud_1.drawGameOver)();\r\n        return;\r\n    }\r\n    requestAnimationFrame(runGameLoop);\r\n    // Update objects\r\n    const dt = (Date.now() - Game.lastTimestamp) / 1000;\r\n    update(dt);\r\n    Game.lastTimestamp = Date.now();\r\n    collision(dt);\r\n    // Cleanup off screen objects\r\n    cleanup();\r\n    // Spawn has to be after cleanup otherwise we will clean up\r\n    // newly spawned meteors\r\n    // Game may cause bugs in the future if we start cleaning up\r\n    // before meteors enter the screen\r\n    spawn();\r\n    // Draw objects\r\n    draw();\r\n}\r\nexports.runGameLoop = runGameLoop;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/gameState.ts?");

/***/ }),

/***/ "./src/game_objects/animatedObject.ts":
/*!********************************************!*\
  !*** ./src/game_objects/animatedObject.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.AnimatedObject = void 0;\r\nclass AnimatedObject {\r\n}\r\nexports.AnimatedObject = AnimatedObject;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/game_objects/animatedObject.ts?");

/***/ }),

/***/ "./src/game_objects/laser.ts":
/*!***********************************!*\
  !*** ./src/game_objects/laser.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.LaserHit = exports.Laser = void 0;\r\nconst images_1 = __webpack_require__(/*! ../images */ \"./src/images.ts\");\r\nconst util_1 = __webpack_require__(/*! ../util */ \"./src/util.ts\");\r\nconst animatedObject_1 = __webpack_require__(/*! ./animatedObject */ \"./src/game_objects/animatedObject.ts\");\r\nconst DPS_SIZE_THRESHOLD = 300;\r\nclass Laser extends animatedObject_1.AnimatedObject {\r\n    constructor(canFitLaser) {\r\n        super();\r\n        this.canFitLaser = canFitLaser;\r\n        this.isActive = false;\r\n        this.hit = null;\r\n    }\r\n    activate() {\r\n        this.isActive = true;\r\n    }\r\n    deactivate() {\r\n        this.isActive = false;\r\n    }\r\n    isFiring() {\r\n        return this.isActive && this.canFitLaser.isLaserEquipped();\r\n    }\r\n    getDps() {\r\n        return this.canFitLaser.getLaserDps();\r\n    }\r\n    getPosition() {\r\n        return this.canFitLaser.getLaserPosition();\r\n    }\r\n    getAngle() {\r\n        return this.canFitLaser.getLaserAngle();\r\n    }\r\n    draw(ctx) {\r\n        var _a;\r\n        if (!this.isActive) {\r\n            return;\r\n        }\r\n        const position = this.canFitLaser.getLaserPosition();\r\n        const angle = this.canFitLaser.getLaserAngle();\r\n        ctx.translate(position.x, position.y);\r\n        ctx.rotate(angle - Math.PI / 2);\r\n        // Draw laser to the edge of the screen or to the hit point\r\n        const laserLength = this.hit\r\n            ? (0, util_1.euclDistance)(this.hit.x, this.hit.y, position.x, position.y)\r\n            : 2000;\r\n        const laserWidth = this.getDps() > DPS_SIZE_THRESHOLD\r\n            ? Laser.WIDTH_L\r\n            : Laser.WIDTH_S;\r\n        // TODO need laser offset\r\n        ctx.drawImage(images_1.default.LASER, -laserWidth / 2, 0, laserWidth, laserLength);\r\n        ctx.rotate(-angle + Math.PI / 2);\r\n        ctx.translate(-position.x, -position.y);\r\n        (_a = this.hit) === null || _a === void 0 ? void 0 : _a.draw(ctx);\r\n    }\r\n    update(dt) {\r\n        var _a;\r\n        // Do nothing for laser, update the laser hit\r\n        (_a = this.hit) === null || _a === void 0 ? void 0 : _a.update(dt);\r\n    }\r\n}\r\nexports.Laser = Laser;\r\nLaser.WIDTH_S = 10;\r\nLaser.WIDTH_L = 30;\r\nclass LaserHit extends animatedObject_1.AnimatedObject {\r\n    constructor(x, y, laser) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.laser = laser;\r\n    }\r\n    draw(ctx) {\r\n        const size = this.laser.getDps() > DPS_SIZE_THRESHOLD\r\n            ? LaserHit.UPGRADED_SIZE\r\n            : LaserHit.SIZE;\r\n        ctx.drawImage(images_1.default.LASER_HIT, this.x - size, this.y - size, size * 2, size * 2);\r\n    }\r\n    update(dt) {\r\n        // Do nothing\r\n    }\r\n}\r\nexports.LaserHit = LaserHit;\r\nLaserHit.SIZE = 20;\r\nLaserHit.UPGRADED_SIZE = 40;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/game_objects/laser.ts?");

/***/ }),

/***/ "./src/game_objects/meteor.ts":
/*!************************************!*\
  !*** ./src/game_objects/meteor.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Smoke = exports.Meteor = void 0;\r\nconst config_1 = __webpack_require__(/*! ../config */ \"./src/config.ts\");\r\nconst images_1 = __webpack_require__(/*! ../images */ \"./src/images.ts\");\r\nconst util_1 = __webpack_require__(/*! ../util */ \"./src/util.ts\");\r\nconst animatedObject_1 = __webpack_require__(/*! ./animatedObject */ \"./src/game_objects/animatedObject.ts\");\r\nclass Meteor extends animatedObject_1.AnimatedObject {\r\n    constructor(x, y, hp, velocity, angle) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.hp = hp;\r\n        this.velocity = velocity;\r\n        this.angle = angle;\r\n        this.meteorType = Math.floor(Math.random() * 4);\r\n    }\r\n    draw(ctx) {\r\n        let meteorImage;\r\n        switch (this.meteorType) {\r\n            case 0:\r\n                meteorImage = images_1.default.METEOR_1;\r\n                break;\r\n            case 1:\r\n                meteorImage = images_1.default.METEOR_2;\r\n                break;\r\n            case 2:\r\n                meteorImage = images_1.default.METEOR_3;\r\n                break;\r\n            case 3:\r\n                meteorImage = images_1.default.METEOR_4;\r\n                break;\r\n            default:\r\n                meteorImage = images_1.default.METEOR_1;\r\n                break;\r\n        }\r\n        const size = this.size();\r\n        ctx.drawImage(meteorImage, this.x - size, this.y - size, size * 2, size * 2);\r\n        if (config_1.DEBUG_COLLISIONS) {\r\n            (0, util_1.drawCircle)(ctx, this.x, this.y, this.size(), null, 'blue');\r\n        }\r\n        if (config_1.DEBUG_HP) {\r\n            ctx.fillStyle = 'red';\r\n            ctx.font = '18px Arial';\r\n            ctx.fillText(this.hp.toFixed(0).toString(), this.x - 10, this.y);\r\n        }\r\n    }\r\n    update(dt) {\r\n        this.x += this.velocity * Math.cos(this.angle) * dt;\r\n        this.y += this.velocity * Math.sin(this.angle) * dt;\r\n    }\r\n    takeDamage(damage) {\r\n        const damageTaken = Math.min(this.hp, damage);\r\n        this.hp -= damage;\r\n        return damageTaken;\r\n    }\r\n    size() {\r\n        return this.hp / 2 + Meteor.MIN_SIZE;\r\n    }\r\n    isDead() {\r\n        return this.hp <= 0;\r\n    }\r\n}\r\nexports.Meteor = Meteor;\r\nMeteor.MIN_SIZE = 20;\r\nclass Smoke extends animatedObject_1.AnimatedObject {\r\n    constructor(x, y, size = 20, ttl = 1000) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.size = size;\r\n        this.ttl = ttl;\r\n        this.createdTimestamp = Date.now();\r\n        this.smokeType = Math.floor(Math.random() * 4);\r\n    }\r\n    draw(ctx) {\r\n        if (this.isDead()) {\r\n            return;\r\n        }\r\n        let smokeImage;\r\n        switch (this.smokeType) {\r\n            case 0:\r\n                smokeImage = images_1.default.SMOKE_1;\r\n                break;\r\n            case 1:\r\n                smokeImage = images_1.default.SMOKE_2;\r\n                break;\r\n            case 2:\r\n                smokeImage = images_1.default.SMOKE_3;\r\n                break;\r\n            case 3:\r\n                smokeImage = images_1.default.SMOKE_4;\r\n                break;\r\n            default:\r\n                smokeImage = images_1.default.SMOKE_1;\r\n                break;\r\n        }\r\n        ctx.drawImage(smokeImage, this.x - this.size, this.y - this.size, this.size * 2, this.size * 2);\r\n    }\r\n    update(dt) {\r\n        // Do nothing\r\n    }\r\n    isDead() {\r\n        return Date.now() - this.createdTimestamp > this.ttl;\r\n    }\r\n}\r\nexports.Smoke = Smoke;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/game_objects/meteor.ts?");

/***/ }),

/***/ "./src/game_objects/player.ts":
/*!************************************!*\
  !*** ./src/game_objects/player.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Player = void 0;\r\nconst util_1 = __webpack_require__(/*! ../util */ \"./src/util.ts\");\r\nconst images_1 = __webpack_require__(/*! ../images */ \"./src/images.ts\");\r\nconst config_1 = __webpack_require__(/*! ../config */ \"./src/config.ts\");\r\nconst animatedObject_1 = __webpack_require__(/*! ./animatedObject */ \"./src/game_objects/animatedObject.ts\");\r\nconst gameState_1 = __webpack_require__(/*! ../gameState */ \"./src/gameState.ts\");\r\nconst laser_1 = __webpack_require__(/*! ./laser */ \"./src/game_objects/laser.ts\");\r\nconst projectile_1 = __webpack_require__(/*! ./projectile */ \"./src/game_objects/projectile.ts\");\r\nvar WeaponType;\r\n(function (WeaponType) {\r\n    WeaponType[WeaponType[\"LASER\"] = 0] = \"LASER\";\r\n    WeaponType[WeaponType[\"PROJECTILE\"] = 1] = \"PROJECTILE\";\r\n})(WeaponType || (WeaponType = {}));\r\nclass Player extends animatedObject_1.AnimatedObject {\r\n    constructor(x, y, size = 50, angle = 0) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.size = size;\r\n        this.angle = angle;\r\n        this.activeWeapon = WeaponType.PROJECTILE;\r\n        this.weaponUpgradeStartTime = 0;\r\n        this.lives = 3;\r\n        this.lastHitTimestamp = 0;\r\n        this.laser = new laser_1.Laser(this);\r\n    }\r\n    draw(ctx) {\r\n        ctx.translate(this.x, this.y);\r\n        ctx.rotate(this.angle + Math.PI / 2);\r\n        if (this.isInvincible()) {\r\n            ctx.globalAlpha = 0.4;\r\n        }\r\n        ctx.drawImage(images_1.default.SHIP, -this.size, -this.size, 2 * this.size, 2 * this.size);\r\n        ctx.globalAlpha = 1;\r\n        ctx.rotate(-this.angle - Math.PI / 2);\r\n        ctx.translate(-this.x, -this.y);\r\n        if (config_1.DEBUG_COLLISIONS) {\r\n            (0, util_1.drawCircle)(ctx, this.x, this.y, this.size, null, 'blue');\r\n        }\r\n        this.laser.draw(ctx);\r\n    }\r\n    update(dt) {\r\n        this.laser.update(dt);\r\n    }\r\n    isLaserEquipped() {\r\n        return this.activeWeapon === WeaponType.LASER;\r\n    }\r\n    isProjectileEquipped() {\r\n        return this.activeWeapon === WeaponType.PROJECTILE;\r\n    }\r\n    isDead() {\r\n        return this.lives <= 0;\r\n    }\r\n    isInvincible() {\r\n        return config_1.INVINCIBILITY\r\n            || Date.now() - this.lastHitTimestamp < Player.INVINCIBILITY_DURATION;\r\n    }\r\n    isWeaponUpgraded() {\r\n        return Date.now() - this.weaponUpgradeStartTime < Player.WEAPON_UPGRADE_TIME;\r\n    }\r\n    getWeaponUpgradeTimeLeft() {\r\n        return Player.WEAPON_UPGRADE_TIME - (Date.now() - this.weaponUpgradeStartTime);\r\n    }\r\n    faceMouse(x, y) {\r\n        this.angle = Math.atan2(y - this.y, x - this.x);\r\n    }\r\n    // Run this when player gets hit\r\n    hit() {\r\n        if (this.isInvincible()) {\r\n            return;\r\n        }\r\n        this.lives--;\r\n        this.lastHitTimestamp = Date.now();\r\n        (0, gameState_1.shakeScreen)();\r\n    }\r\n    // Spawns new projectile in the direction where the player is facing\r\n    fireProjectile() {\r\n        // Move x and y a bit to avoid spawning projectiles inside the player\r\n        const offset = this.size;\r\n        const x = this.x + offset * Math.cos(this.angle);\r\n        const y = this.y + offset * Math.sin(this.angle);\r\n        if (!this.isWeaponUpgraded()) {\r\n            gameState_1.Game.projectiles.push(new projectile_1.Projectile(x, y, this.angle));\r\n        }\r\n        else {\r\n            const angleOffset = 0.3;\r\n            gameState_1.Game.projectiles.push(new projectile_1.Projectile(x, y, this.angle - 2 * angleOffset), new projectile_1.Projectile(x, y, this.angle - angleOffset), new projectile_1.Projectile(x, y, this.angle), new projectile_1.Projectile(x, y, this.angle + angleOffset), new projectile_1.Projectile(x, y, this.angle + 2 * angleOffset));\r\n        }\r\n    }\r\n    fireProjectileBurst() {\r\n        const numProjectiles = 40;\r\n        const angleOffset = 2 * Math.PI / numProjectiles;\r\n        const projectiles = [];\r\n        for (let i = 0; i < numProjectiles; i++) {\r\n            const angle = this.angle + (i - numProjectiles / 2) * angleOffset;\r\n            projectiles.push(new projectile_1.Projectile(this.x, this.y, angle));\r\n        }\r\n        gameState_1.Game.projectiles.push(...projectiles);\r\n    }\r\n    changeWeapon() {\r\n        if (this.activeWeapon === WeaponType.PROJECTILE) {\r\n            this.activeWeapon = WeaponType.LASER;\r\n        }\r\n        else {\r\n            this.activeWeapon = WeaponType.PROJECTILE;\r\n        }\r\n    }\r\n    upgradeWeapon() {\r\n        this.weaponUpgradeStartTime = Date.now();\r\n    }\r\n    getLaserDps() {\r\n        return this.isWeaponUpgraded() ? Player.LASER_UPGRADED_DPS : Player.LASER_DPS;\r\n    }\r\n    getLaserPosition() {\r\n        return { x: this.x, y: this.y };\r\n    }\r\n    getLaserAngle() {\r\n        return this.angle;\r\n    }\r\n    isLaserFiring() {\r\n        return this.isLaserEquipped() && this.laser.isActive;\r\n    }\r\n}\r\nexports.Player = Player;\r\nPlayer.INVINCIBILITY_DURATION = 2000;\r\nPlayer.WEAPON_UPGRADE_TIME = 10000;\r\nPlayer.LASER_DPS = 180;\r\nPlayer.LASER_UPGRADED_DPS = 360;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/game_objects/player.ts?");

/***/ }),

/***/ "./src/game_objects/powerUps.ts":
/*!**************************************!*\
  !*** ./src/game_objects/powerUps.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.RocketLaserPowerup = exports.WeaponUpgradePowerup = exports.ProjectileBurstPowerup = void 0;\r\nconst images_1 = __webpack_require__(/*! ../images */ \"./src/images.ts\");\r\nconst util_1 = __webpack_require__(/*! ../util */ \"./src/util.ts\");\r\nconst animatedObject_1 = __webpack_require__(/*! ./animatedObject */ \"./src/game_objects/animatedObject.ts\");\r\nclass Powerup extends animatedObject_1.AnimatedObject {\r\n    constructor(x, y, size = Powerup.MIN_SIZE) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.size = size;\r\n        this.isIncreasing = true;\r\n    }\r\n    isClicked(x, y) {\r\n        return (0, util_1.euclDistance)(this.x, this.y, x, y) < this.size;\r\n    }\r\n    draw(ctx) {\r\n        ctx.drawImage(this.image, this.x - this.size, this.y - this.size, this.size * 2, this.size * 2);\r\n    }\r\n    update(_dt) {\r\n        const sizeDelta = 0.3;\r\n        if (this.isIncreasing) {\r\n            this.size += sizeDelta;\r\n            if (this.size >= Powerup.MAX_SIZE) {\r\n                this.isIncreasing = false;\r\n            }\r\n        }\r\n        else {\r\n            this.size -= sizeDelta;\r\n            if (this.size <= Powerup.MIN_SIZE) {\r\n                this.isIncreasing = true;\r\n            }\r\n        }\r\n    }\r\n}\r\nPowerup.MIN_SIZE = 15;\r\nPowerup.MAX_SIZE = 25;\r\nclass ProjectileBurstPowerup extends Powerup {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.image = images_1.default.POWERUP_RED_STAR;\r\n    }\r\n}\r\nexports.ProjectileBurstPowerup = ProjectileBurstPowerup;\r\nclass WeaponUpgradePowerup extends Powerup {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.image = images_1.default.POWERUP_YELLOW_BOLT;\r\n    }\r\n}\r\nexports.WeaponUpgradePowerup = WeaponUpgradePowerup;\r\nclass RocketLaserPowerup extends Powerup {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.image = images_1.default.POWERUP_BLUE_STAR;\r\n    }\r\n}\r\nexports.RocketLaserPowerup = RocketLaserPowerup;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/game_objects/powerUps.ts?");

/***/ }),

/***/ "./src/game_objects/projectile.ts":
/*!****************************************!*\
  !*** ./src/game_objects/projectile.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Projectile = void 0;\r\nconst config_1 = __webpack_require__(/*! ../config */ \"./src/config.ts\");\r\nconst images_1 = __webpack_require__(/*! ../images */ \"./src/images.ts\");\r\nconst util_1 = __webpack_require__(/*! ../util */ \"./src/util.ts\");\r\nconst animatedObject_1 = __webpack_require__(/*! ./animatedObject */ \"./src/game_objects/animatedObject.ts\");\r\nclass Projectile extends animatedObject_1.AnimatedObject {\r\n    constructor(x, y, angle, velocity = 300, size = 10) {\r\n        super();\r\n        this.x = x;\r\n        this.y = y;\r\n        this.angle = angle;\r\n        this.velocity = velocity;\r\n        this.size = size;\r\n    }\r\n    draw(ctx) {\r\n        ctx.translate(this.x, this.y);\r\n        ctx.rotate(this.angle + Math.PI / 2);\r\n        const scaleProjectileHoriz = 0.8;\r\n        ctx.drawImage(images_1.default.PROJECTILE, -this.size * scaleProjectileHoriz, -this.size, this.size * 2.0 * scaleProjectileHoriz, this.size * 2.0);\r\n        const scaleTrailHoriz = 0.6;\r\n        const scaleTrailVert = 1.5;\r\n        ctx.drawImage(images_1.default.PROJECTILE_TRAIL, -this.size * scaleTrailHoriz, this.size, this.size * 2.0 * scaleTrailHoriz, this.size * 2.0 * scaleTrailVert);\r\n        ctx.rotate(-this.angle - Math.PI / 2);\r\n        ctx.translate(-this.x, -this.y);\r\n        if (config_1.DEBUG_COLLISIONS) {\r\n            (0, util_1.drawCircle)(ctx, this.x, this.y, this.size, null, 'red');\r\n        }\r\n    }\r\n    update(dt) {\r\n        this.x += this.velocity * Math.cos(this.angle) * dt;\r\n        this.y += this.velocity * Math.sin(this.angle) * dt;\r\n    }\r\n}\r\nexports.Projectile = Projectile;\r\nProjectile.DAMAGE = 35;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/game_objects/projectile.ts?");

/***/ }),

/***/ "./src/images.ts":
/*!***********************!*\
  !*** ./src/images.ts ***!
  \***********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst playerShip2_red_png_1 = __webpack_require__(/*! ../assets/playerShip2_red.png */ \"./assets/playerShip2_red.png\");\r\nconst spaceMissiles_012_png_1 = __webpack_require__(/*! ../assets/spaceMissiles_012.png */ \"./assets/spaceMissiles_012.png\");\r\nconst spaceEffects_002_png_1 = __webpack_require__(/*! ../assets/spaceEffects_002.png */ \"./assets/spaceEffects_002.png\");\r\nconst spaceEffects_013_png_1 = __webpack_require__(/*! ../assets/spaceEffects_013.png */ \"./assets/spaceEffects_013.png\");\r\nconst spaceEffects_014_png_1 = __webpack_require__(/*! ../assets/spaceEffects_014.png */ \"./assets/spaceEffects_014.png\");\r\nconst spaceEffects_015_png_1 = __webpack_require__(/*! ../assets/spaceEffects_015.png */ \"./assets/spaceEffects_015.png\");\r\nconst spaceEffects_016_png_1 = __webpack_require__(/*! ../assets/spaceEffects_016.png */ \"./assets/spaceEffects_016.png\");\r\nconst spaceMeteors_001_png_1 = __webpack_require__(/*! ../assets/spaceMeteors_001.png */ \"./assets/spaceMeteors_001.png\");\r\nconst spaceMeteors_002_png_1 = __webpack_require__(/*! ../assets/spaceMeteors_002.png */ \"./assets/spaceMeteors_002.png\");\r\nconst spaceMeteors_003_png_1 = __webpack_require__(/*! ../assets/spaceMeteors_003.png */ \"./assets/spaceMeteors_003.png\");\r\nconst spaceMeteors_004_png_1 = __webpack_require__(/*! ../assets/spaceMeteors_004.png */ \"./assets/spaceMeteors_004.png\");\r\nconst laserRed16_png_1 = __webpack_require__(/*! ../assets/laserRed16.png */ \"./assets/laserRed16.png\");\r\nconst laserRed08_png_1 = __webpack_require__(/*! ../assets/laserRed08.png */ \"./assets/laserRed08.png\");\r\nconst playerLife2_red_png_1 = __webpack_require__(/*! ../assets/playerLife2_red.png */ \"./assets/playerLife2_red.png\");\r\nconst black_png_1 = __webpack_require__(/*! ../assets/black.png */ \"./assets/black.png\");\r\nconst powerupRed_star_png_1 = __webpack_require__(/*! ../assets/powerupRed_star.png */ \"./assets/powerupRed_star.png\");\r\nconst powerupBlue_star_png_1 = __webpack_require__(/*! ../assets/powerupBlue_star.png */ \"./assets/powerupBlue_star.png\");\r\nconst powerupYellow_bolt_png_1 = __webpack_require__(/*! ../assets/powerupYellow_bolt.png */ \"./assets/powerupYellow_bolt.png\");\r\nconst spaceRockets_001_png_1 = __webpack_require__(/*! ../assets/spaceRockets_001.png */ \"./assets/spaceRockets_001.png\");\r\nconst buttonRed_png_1 = __webpack_require__(/*! ../assets/buttonRed.png */ \"./assets/buttonRed.png\");\r\nfunction loadImage(src) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return new Promise((resolve, reject) => {\r\n            const image = new Image();\r\n            image.onload = () => resolve(image);\r\n            image.onerror = () => reject();\r\n            image.src = src;\r\n        });\r\n    });\r\n}\r\nclass Images {\r\n    static initialize() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            [\r\n                Images.SHIP,\r\n                Images.PROJECTILE,\r\n                Images.PROJECTILE_TRAIL,\r\n                Images.SMOKE_1,\r\n                Images.SMOKE_2,\r\n                Images.SMOKE_3,\r\n                Images.SMOKE_4,\r\n                Images.METEOR_1,\r\n                Images.METEOR_2,\r\n                Images.METEOR_3,\r\n                Images.METEOR_4,\r\n                Images.LASER,\r\n                Images.LASER_HIT,\r\n                Images.PLAYER_LIFE,\r\n                Images.BLACK_BACKGROUND,\r\n                Images.POWERUP_RED_STAR,\r\n                Images.POWERUP_BLUE_STAR,\r\n                Images.POWERUP_YELLOW_BOLT,\r\n                Images.ROCKET,\r\n                Images.BUTTON_RED,\r\n            ] = yield Promise.all([\r\n                loadImage(playerShip2_red_png_1.default),\r\n                loadImage(spaceMissiles_012_png_1.default),\r\n                loadImage(spaceEffects_002_png_1.default),\r\n                loadImage(spaceEffects_013_png_1.default),\r\n                loadImage(spaceEffects_014_png_1.default),\r\n                loadImage(spaceEffects_015_png_1.default),\r\n                loadImage(spaceEffects_016_png_1.default),\r\n                loadImage(spaceMeteors_001_png_1.default),\r\n                loadImage(spaceMeteors_002_png_1.default),\r\n                loadImage(spaceMeteors_003_png_1.default),\r\n                loadImage(spaceMeteors_004_png_1.default),\r\n                loadImage(laserRed16_png_1.default),\r\n                loadImage(laserRed08_png_1.default),\r\n                loadImage(playerLife2_red_png_1.default),\r\n                loadImage(black_png_1.default),\r\n                loadImage(powerupRed_star_png_1.default),\r\n                loadImage(powerupBlue_star_png_1.default),\r\n                loadImage(powerupYellow_bolt_png_1.default),\r\n                loadImage(spaceRockets_001_png_1.default),\r\n                loadImage(buttonRed_png_1.default),\r\n            ]);\r\n        });\r\n    }\r\n}\r\nexports[\"default\"] = Images;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/images.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst images_1 = __webpack_require__(/*! ./images */ \"./src/images.ts\");\r\nconst gameState_1 = __webpack_require__(/*! ./gameState */ \"./src/gameState.ts\");\r\nconst inputs_1 = __webpack_require__(/*! ./inputs */ \"./src/inputs.ts\");\r\nfunction main() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        yield images_1.default.initialize();\r\n        (0, gameState_1.initCanvas)();\r\n        (0, inputs_1.setupInputs)();\r\n        (0, gameState_1.initGame)();\r\n        (0, gameState_1.runGameLoop)();\r\n    });\r\n}\r\nmain();\r\n\n\n//# sourceURL=webpack://center-shooter/./src/index.ts?");

/***/ }),

/***/ "./src/inputs.ts":
/*!***********************!*\
  !*** ./src/inputs.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.setupInputs = void 0;\r\nconst gameState_1 = __webpack_require__(/*! ./gameState */ \"./src/gameState.ts\");\r\nconst specialAttacks_1 = __webpack_require__(/*! ./specialAttacks */ \"./src/specialAttacks.ts\");\r\nfunction setupInputs() {\r\n    gameState_1.Game.canvas.addEventListener('mouseup', _event => {\r\n        if (gameState_1.Game.player.isLaserEquipped()) {\r\n            gameState_1.Game.player.laser.deactivate();\r\n        }\r\n    });\r\n    // Spawn projectiles on mouse click\r\n    gameState_1.Game.canvas.addEventListener('mousedown', event => {\r\n        // Ignore right click\r\n        if (event.button === 2) {\r\n            return;\r\n        }\r\n        if (gameState_1.Game.gameOver) {\r\n            (0, gameState_1.initGame)();\r\n            (0, gameState_1.runGameLoop)();\r\n            return;\r\n        }\r\n        if (gameState_1.Game.weaponUpgradePowerup\r\n            && gameState_1.Game.weaponUpgradePowerup.isClicked(event.clientX, event.clientY)) {\r\n            gameState_1.Game.weaponUpgradePowerup = null;\r\n            gameState_1.Game.player.upgradeWeapon();\r\n        }\r\n        else if (gameState_1.Game.projectileBurstPowerup\r\n            && gameState_1.Game.projectileBurstPowerup.isClicked(event.clientX, event.clientY)) {\r\n            gameState_1.Game.projectileBurstPowerup = null;\r\n            gameState_1.Game.projectileBurstAttack = new specialAttacks_1.ProjectileBurstAttack(gameState_1.Game.player);\r\n        }\r\n        else if (gameState_1.Game.rocketLaserPowerup\r\n            && gameState_1.Game.rocketLaserPowerup.isClicked(event.clientX, event.clientY)) {\r\n            gameState_1.Game.rocketLaserPowerup = null;\r\n            gameState_1.Game.rocketLaser = new specialAttacks_1.RocketLaser();\r\n        }\r\n        else if (gameState_1.Game.player.isProjectileEquipped()) {\r\n            gameState_1.Game.player.fireProjectile();\r\n        }\r\n        else if (gameState_1.Game.player.isLaserEquipped()) {\r\n            gameState_1.Game.player.laser.activate();\r\n        }\r\n    });\r\n    // Player faces the mouse position\r\n    gameState_1.Game.canvas.addEventListener('mousemove', event => {\r\n        gameState_1.Game.player.faceMouse(event.clientX, event.clientY);\r\n    });\r\n    // Activate special attacks on right click\r\n    gameState_1.Game.canvas.addEventListener('contextmenu', event => {\r\n        var _a, _b;\r\n        event.preventDefault();\r\n        (_a = gameState_1.Game.projectileBurstAttack) === null || _a === void 0 ? void 0 : _a.activate();\r\n        (_b = gameState_1.Game.rocketLaser) === null || _b === void 0 ? void 0 : _b.activate();\r\n    });\r\n    // Change weapon on scroll\r\n    gameState_1.Game.canvas.addEventListener('wheel', event => {\r\n        event.preventDefault();\r\n        gameState_1.Game.player.changeWeapon();\r\n    });\r\n}\r\nexports.setupInputs = setupInputs;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/inputs.ts?");

/***/ }),

/***/ "./src/spawners/meteorSpawner.ts":
/*!***************************************!*\
  !*** ./src/spawners/meteorSpawner.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.MeteorSpawner = void 0;\r\nconst gameState_1 = __webpack_require__(/*! ../gameState */ \"./src/gameState.ts\");\r\nconst meteor_1 = __webpack_require__(/*! ../game_objects/meteor */ \"./src/game_objects/meteor.ts\");\r\nconst MIN_INTERVAL = 500;\r\nconst MAX_INTERVAL = 2000;\r\nconst INCREASE_DIFFICULTY_INTERVAL = 10000;\r\nconst MAX_DIFFICULTY_MULTIPLIER = 5; // Might need to be higher\r\nconst MIN_VELOCITY = 50;\r\nconst MAX_VELOCITY = 200;\r\nconst MIN_HP = 20;\r\nconst MAX_HP = 100;\r\nclass MeteorSpawner {\r\n    constructor(canvasWidth, canvasHeight, player) {\r\n        this.canvasWidth = canvasWidth;\r\n        this.canvasHeight = canvasHeight;\r\n        this.player = player;\r\n        this.lastSpawnTimestamp = 0;\r\n        this.nextSpawnInterval = 0;\r\n        this.startTime = Date.now();\r\n    }\r\n    shouldSpawn() {\r\n        return Date.now() - this.lastSpawnTimestamp > this.nextSpawnInterval;\r\n    }\r\n    getDifficultyMultiplier() {\r\n        return Math.min(Math.floor((Date.now() - this.startTime) / INCREASE_DIFFICULTY_INTERVAL), MAX_DIFFICULTY_MULTIPLIER);\r\n    }\r\n    spawn() {\r\n        const velocity = Math.random() * (MAX_VELOCITY - MIN_VELOCITY) + MIN_VELOCITY;\r\n        const hp = Math.random() * (MAX_HP - MIN_HP) + MIN_HP;\r\n        // Spawn at random point off screen\r\n        const side = Math.floor(Math.random() * 4);\r\n        const offset = 100; // Spawn off screen by 100px\r\n        let x = 0;\r\n        let y = 0;\r\n        switch (side) {\r\n            case 0: // Top\r\n                x = Math.random() * this.canvasWidth;\r\n                y = -offset;\r\n                break;\r\n            case 1: // Right\r\n                x = this.canvasWidth + offset;\r\n                y = Math.random() * this.canvasHeight;\r\n                break;\r\n            case 2: // Bottom\r\n                x = Math.random() * this.canvasWidth;\r\n                y = this.canvasHeight + offset;\r\n                break;\r\n            case 3: // Left\r\n                x = -offset;\r\n                y = Math.random() * this.canvasHeight;\r\n                break;\r\n        }\r\n        const angle = Math.atan2(this.player.y - y, this.player.x - x);\r\n        this.lastSpawnTimestamp = Date.now();\r\n        const difficultyMultiplier = this.getDifficultyMultiplier();\r\n        const minInterval = MIN_INTERVAL * (1 - difficultyMultiplier / 10);\r\n        const maxInterval = MAX_INTERVAL * (1 - difficultyMultiplier / 10);\r\n        this.nextSpawnInterval = Math.random() * (maxInterval - minInterval) + minInterval;\r\n        gameState_1.Game.meteors.push(new meteor_1.Meteor(x, y, hp, velocity, angle));\r\n    }\r\n}\r\nexports.MeteorSpawner = MeteorSpawner;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/spawners/meteorSpawner.ts?");

/***/ }),

/***/ "./src/spawners/powerupSpawner.ts":
/*!****************************************!*\
  !*** ./src/spawners/powerupSpawner.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.PowerupSpawner = void 0;\r\nconst config_1 = __webpack_require__(/*! ../config */ \"./src/config.ts\");\r\nconst gameState_1 = __webpack_require__(/*! ../gameState */ \"./src/gameState.ts\");\r\nconst powerUps_1 = __webpack_require__(/*! ../game_objects/powerUps */ \"./src/game_objects/powerUps.ts\");\r\nconst util_1 = __webpack_require__(/*! ../util */ \"./src/util.ts\");\r\nclass PowerupSpawner {\r\n    constructor(canvasWidth, canvasHeight, player) {\r\n        this.canvasWidth = canvasWidth;\r\n        this.canvasHeight = canvasHeight;\r\n        this.player = player;\r\n        this.nextSpawnInterval = 0;\r\n        // Prevent spawning immediately\r\n        this.lastSpawnTimestamp = Date.now();\r\n        this.resetNextSpawnInterval();\r\n    }\r\n    resetNextSpawnInterval() {\r\n        this.nextSpawnInterval = Math.random() * (PowerupSpawner.MAX_TIME_BETWEEN_SPAWNS\r\n            - PowerupSpawner.MIN_TIME_BETWEEN_SPAWNS)\r\n            + PowerupSpawner.MIN_TIME_BETWEEN_SPAWNS;\r\n    }\r\n    shouldSpawnProjectileBurst() {\r\n        return gameState_1.Game.projectileBurstAttack === null\r\n            && gameState_1.Game.projectileBurstPowerup === null;\r\n    }\r\n    shouldSpawnWeaponUpgrade() {\r\n        return gameState_1.Game.weaponUpgradePowerup === null\r\n            && !this.player.isWeaponUpgraded();\r\n    }\r\n    shouldSpawnRocketLaser() {\r\n        return gameState_1.Game.rocketLaser === null\r\n            && gameState_1.Game.rocketLaserPowerup === null;\r\n    }\r\n    shouldSpawn() {\r\n        return (this.shouldSpawnProjectileBurst()\r\n            || this.shouldSpawnWeaponUpgrade()\r\n            || this.shouldSpawnRocketLaser())\r\n            && (config_1.FORCE_POWERUP\r\n                || Date.now() - this.lastSpawnTimestamp > this.nextSpawnInterval);\r\n    }\r\n    spawn() {\r\n        this.lastSpawnTimestamp = Date.now();\r\n        this.resetNextSpawnInterval();\r\n        const padding = 100;\r\n        let x, y;\r\n        while (true) {\r\n            x = Math.random() * (this.canvasWidth - padding * 2) + padding;\r\n            y = Math.random() * (this.canvasHeight - padding * 2) + padding;\r\n            // If too close to player, try again\r\n            if ((0, util_1.euclDistance)(x, y, this.player.x, this.player.y) > this.player.size * 2) {\r\n                break;\r\n            }\r\n        }\r\n        // Randomly choose powerup\r\n        // This logic is not that great, but it works\r\n        const powerupChance = 0.33;\r\n        const powerup = Math.random();\r\n        if (this.shouldSpawnProjectileBurst() && powerup < powerupChance) {\r\n            gameState_1.Game.projectileBurstPowerup = new powerUps_1.ProjectileBurstPowerup(x, y);\r\n        }\r\n        else if (this.shouldSpawnWeaponUpgrade() && powerup < powerupChance * 2) {\r\n            gameState_1.Game.weaponUpgradePowerup = new powerUps_1.WeaponUpgradePowerup(x, y);\r\n        }\r\n        else if (this.shouldSpawnRocketLaser()) {\r\n            gameState_1.Game.rocketLaserPowerup = new powerUps_1.RocketLaserPowerup(x, y);\r\n        }\r\n    }\r\n}\r\nexports.PowerupSpawner = PowerupSpawner;\r\nPowerupSpawner.MIN_TIME_BETWEEN_SPAWNS = 10000;\r\nPowerupSpawner.MAX_TIME_BETWEEN_SPAWNS = 25000;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/spawners/powerupSpawner.ts?");

/***/ }),

/***/ "./src/specialAttacks.ts":
/*!*******************************!*\
  !*** ./src/specialAttacks.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.RocketLaser = exports.ProjectileBurstAttack = void 0;\r\nconst gameState_1 = __webpack_require__(/*! ./gameState */ \"./src/gameState.ts\");\r\nconst animatedObject_1 = __webpack_require__(/*! ./game_objects/animatedObject */ \"./src/game_objects/animatedObject.ts\");\r\nconst laser_1 = __webpack_require__(/*! ./game_objects/laser */ \"./src/game_objects/laser.ts\");\r\nconst images_1 = __webpack_require__(/*! ./images */ \"./src/images.ts\");\r\nclass ProjectileBurstAttack {\r\n    constructor(player) {\r\n        this.player = player;\r\n        this.remainingShots = 3;\r\n        this.lastShotTimestamp = 0;\r\n        this.isActive = false;\r\n    }\r\n    use() {\r\n        if (this.isActive\r\n            && this.remainingShots > 0\r\n            && Date.now() - this.lastShotTimestamp > ProjectileBurstAttack.DELAY) {\r\n            this.remainingShots--;\r\n            this.lastShotTimestamp = Date.now();\r\n            this.player.fireProjectileBurst();\r\n        }\r\n    }\r\n    activate() {\r\n        this.isActive = true;\r\n    }\r\n    isDone() {\r\n        return this.remainingShots <= 0;\r\n    }\r\n}\r\nexports.ProjectileBurstAttack = ProjectileBurstAttack;\r\nProjectileBurstAttack.DELAY = 500;\r\nclass RocketLaser extends animatedObject_1.AnimatedObject {\r\n    constructor() {\r\n        super();\r\n        this.isActive = false;\r\n        // Start x is random left or right\r\n        this.isLeft = Math.random() < 0.5;\r\n        this.x = this.isLeft\r\n            ? RocketLaser.OFFSET_X\r\n            : gameState_1.Game.canvas.width - RocketLaser.OFFSET_X;\r\n        this.y = gameState_1.Game.canvas.height;\r\n        this.laser = new laser_1.Laser(this);\r\n    }\r\n    activate() {\r\n        this.isActive = true;\r\n    }\r\n    draw(ctx) {\r\n        // Rotate to angle\r\n        ctx.translate(this.x, this.y);\r\n        ctx.rotate(RocketLaser.ANGLE + Math.PI / 2);\r\n        ctx.drawImage(images_1.default.ROCKET, 0, 0, RocketLaser.WIDTH, RocketLaser.LENGTH);\r\n        // Reset rotation\r\n        ctx.rotate(-RocketLaser.ANGLE - Math.PI / 2);\r\n        ctx.translate(-this.x, -this.y);\r\n        this.laser.draw(ctx);\r\n        this.laser.activate();\r\n    }\r\n    update(dt) {\r\n        if (!this.isActive) {\r\n            return;\r\n        }\r\n        this.x += Math.cos(RocketLaser.ANGLE) * RocketLaser.VELOCITY * dt;\r\n        this.y += Math.sin(RocketLaser.ANGLE) * RocketLaser.VELOCITY * dt;\r\n    }\r\n    getLaserDps() {\r\n        return RocketLaser.LASER_DPS;\r\n    }\r\n    getLaserPosition() {\r\n        return {\r\n            x: this.x + RocketLaser.WIDTH / 2,\r\n            y: this.y + RocketLaser.LENGTH / 2,\r\n        };\r\n    }\r\n    getLaserAngle() {\r\n        const rotation = this.isLeft ? 1 : -1;\r\n        return RocketLaser.ANGLE + rotation * Math.PI / 2;\r\n    }\r\n    isLaserEquipped() {\r\n        return true;\r\n    }\r\n}\r\nexports.RocketLaser = RocketLaser;\r\nRocketLaser.ANGLE = 3 * Math.PI / 2;\r\nRocketLaser.OFFSET_X = 200;\r\nRocketLaser.LENGTH = 180;\r\nRocketLaser.WIDTH = 60;\r\nRocketLaser.VELOCITY = 50;\r\nRocketLaser.LASER_DPS = 360;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/specialAttacks.ts?");

/***/ }),

/***/ "./src/util.ts":
/*!*********************!*\
  !*** ./src/util.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.euclDistance = exports.intersectRayAndCircle = exports.drawRoundRect = exports.drawCircle = exports.arrayCrossProduct = void 0;\r\nfunction arrayCrossProduct(array1, array2) {\r\n    const result = [];\r\n    for (const item1 of array1) {\r\n        for (const item2 of array2) {\r\n            result.push([item1, item2]);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.arrayCrossProduct = arrayCrossProduct;\r\nfunction drawCircle(ctx, x, y, size, fillColor = null, strokeCollor = null) {\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, size, 0, Math.PI * 2, false);\r\n    if (fillColor !== null) {\r\n        ctx.fillStyle = fillColor;\r\n        ctx.fill();\r\n    }\r\n    if (strokeCollor !== null) {\r\n        ctx.strokeStyle = strokeCollor;\r\n        ctx.stroke();\r\n    }\r\n}\r\nexports.drawCircle = drawCircle;\r\nfunction drawRoundRect(ctx, x, y, width, height, radius = 5, fill = false, stroke = true) {\r\n    ctx.beginPath();\r\n    ctx.moveTo(x + radius, y);\r\n    ctx.lineTo(x + width - radius, y);\r\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\r\n    ctx.lineTo(x + width, y + height - radius);\r\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\r\n    ctx.lineTo(x + radius, y + height);\r\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\r\n    ctx.lineTo(x, y + radius);\r\n    ctx.quadraticCurveTo(x, y, x + radius, y);\r\n    ctx.closePath();\r\n    if (fill) {\r\n        ctx.fill();\r\n    }\r\n    if (stroke) {\r\n        ctx.stroke();\r\n    }\r\n}\r\nexports.drawRoundRect = drawRoundRect;\r\n// Finds an intersection between a ray and a circle and returns the closest\r\n// intersection point. If there is no intersection, returns null.\r\nfunction intersectRayAndCircle(lineStartX, lineStartY, lineAngle, circleX, circleY, circleRadius) {\r\n    const lineEndX = lineStartX + 10000 * Math.cos(lineAngle);\r\n    const lineEndY = lineStartY + 10000 * Math.sin(lineAngle);\r\n    const a = lineEndX - lineStartX;\r\n    const b = lineStartX - circleX;\r\n    const c = lineEndY - lineStartY;\r\n    const d = lineStartY - circleY;\r\n    const e = a * a + c * c;\r\n    const f = 2 * (a * b + c * d);\r\n    const g = b * b + d * d - circleRadius * circleRadius;\r\n    const discriminant = f * f - 4 * e * g;\r\n    if (discriminant < 0) {\r\n        return null;\r\n    }\r\n    const t1 = (-f + Math.sqrt(discriminant)) / (2 * e);\r\n    const t2 = (-f - Math.sqrt(discriminant)) / (2 * e);\r\n    if (t1 >= 0 && t1 <= 1 || t2 >= 0 && t2 <= 1) {\r\n        return { x: lineStartX + a * t2, y: lineStartY + c * t2 };\r\n    }\r\n    return null;\r\n}\r\nexports.intersectRayAndCircle = intersectRayAndCircle;\r\nfunction euclDistance(x1, y1, x2, y2) {\r\n    return Math.sqrt(Math.pow((x1 - x2), 2) + Math.pow((y1 - y2), 2));\r\n}\r\nexports.euclDistance = euclDistance;\r\n\n\n//# sourceURL=webpack://center-shooter/./src/util.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) scriptUrl = scripts[scripts.length - 1].src
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;